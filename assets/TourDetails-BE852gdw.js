const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DDUi1s2b.js","assets/index-tKAXkxff.css","assets/FeaturedHero-CWGbZxPE.js","assets/Featured-DMapGXGP.js","assets/purify.es-CocPUCx9.js","assets/TourDetailsTwoComponents-BRumCoUl.js"])))=>i.map(i=>d[i]);
import{r as e,_ as c,u as re,p as ne,A as ie,j as t,B as ce,N as de,a as i,S as f}from"./index-DDUi1s2b.js";let ue=e.lazy(()=>c(()=>import("./index-DDUi1s2b.js").then(n=>n.b0),__vite__mapDeps([0,1]))),me=e.lazy(()=>c(()=>import("./FeaturedHero-CWGbZxPE.js"),__vite__mapDeps([2,0,1]))),ge=e.lazy(()=>c(()=>import("./Featured-DMapGXGP.js"),__vite__mapDeps([3,0,1,4]))),pe=e.lazy(()=>c(()=>import("./TourDetailsTwoComponents-BRumCoUl.js"),__vite__mapDeps([5,0,1,4]))),fe=e.lazy(()=>c(()=>import("./index-DDUi1s2b.js").then(n=>n.b1),__vite__mapDeps([0,1])));function Ne(){e.useEffect(()=>{document.title="Tour Details - Innerpece"},[]);let n=e.useRef(null),h=e.useRef(null),x=e.useRef(null),w=e.useRef(null),S=e.useRef(null),T=e.useRef(null);const A=()=>{n.current.scrollIntoView({behavior:"smooth"})},F=()=>{h.current.scrollIntoView({behavior:"smooth"})},V=()=>{x.current.scrollIntoView({behavior:"smooth"})},O=()=>{w.current.scrollIntoView({behavior:"smooth"})},B=()=>{S.current.scrollIntoView({behavior:"smooth"})},b=re(),z=ne(),{id:y}=z.state||{},[he,G]=e.useState([]),U=window.location.pathname.split("/")[1],[v,g]=e.useState(!1),[xe,J]=e.useState(!1),[we,H]=e.useState(""),[Se,$]=e.useState(""),[be,q]=e.useState(""),[d,j]=e.useState(!1);e.useState(!1),e.useState(!1),e.useState(""),e.useState("");const[N,W]=e.useState([]),[ye,X]=e.useState(0);e.useState({}),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState(""),e.useState([]);const[Y,K]=e.useState(!1);e.useEffect(()=>{const a=setInterval(()=>{X(s=>s===N.length-1?0:s+1)},2500);return()=>clearInterval(a)},[N.length]),e.useEffect(()=>{const a=localStorage.getItem("loginDetails"),s=a?JSON.parse(a):null;J(s),H(localStorage.getItem("loginid"))},[d]);const k=window.location.href.split("#")[1];e.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("loginDetails"),l=s?JSON.parse(s):null,u={program_id:y||U,user_id:(l==null?void 0:l.id)||null},m={program_id:k},o=k?await i.post("https://backoffice.innerpece.com/api/v1/specific-program-details",m):await i.post("https://backoffice.innerpece.com/api/v1/get-program-details",u);G(o.data.data),W(o.data.data.gallery_img),q(o.data.data.price_title[0]),$(o.data.data.price_amount[0])}catch(s){console.log(s.response.data.message),(s.status=404)&&K(s.response.data.message)}})()},[]);const[_,ve]=e.useState(!1),[E,I]=e.useState(""),[C,L]=e.useState(""),[M,Q]=e.useState(""),[r,D]=e.useState({});function Z(){b("/signup"),window.scrollTo({top:0,behavior:"instant"})}function P(a){const{name:s,value:l}=a.target;s==="loginEmail"&&I(l),s==="loginPassword"&&L(l),s==="checkbox"&&Q(M?"":"checkbox checked")}async function ee(){g(!0);try{let a=await i.post("https://backoffice.innerpece.com/api/v1/login",{email:E,password:C});const s=a.data.token,l=a.data.user_details;localStorage.setItem("loginid",s),localStorage.setItem("loginDetails",JSON.stringify(l)),I(""),L(""),D(""),f.fire({position:"center",icon:"success",title:"Login successfully",showConfirmButton:!1,timer:1500}),j(!1),setTimeout(()=>{window.location.reload()},1e3),g(!1)}catch(a){console.log(a);let s=a.response.data.errors?a.response.data.errors:a.response.data;D({...s}),console.log(s),g(!1)}}const[R,te]=e.useState(null),se=a=>{te(a)};e.useEffect(()=>(_||d?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[_,d]);const ae=ie({onSuccess:async a=>{try{const s=await i.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${a.access_token}`}});oe({...s.data})}catch(s){console.error("Failed to fetch user info",s)}},onError:()=>console.log("Login Failed")}),oe=async a=>{var s,l,u,m;try{let o=await i.post("https://backoffice.innerpece.com/api/v1/auth/google/callback",{...a});f.fire({position:"center",icon:"success",title:"Login Success",showConfirmButton:!1,timer:2e3});let le=o.data.token,p=o.data.user_details;p={...p,googlePicture:a.picture},localStorage.setItem("loginid",le),localStorage.setItem("loginDetails",JSON.stringify(p)),setTimeout(()=>{b("/")},2e3)}catch(o){console.log(o),console.log((l=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:l.error),f.fire({position:"center",icon:"error",title:"Login Failed",text:((m=(u=o.response)==null?void 0:u.data)==null?void 0:m.error)||"Something went wrong!",showConfirmButton:!1,timer:2500})}};return t.jsx("div",{className:"bg-[#FEFEFE]",children:t.jsx(e.Suspense,{fallback:t.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:t.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:Y?t.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center h-screen",children:[t.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl",children:"Package not found"}),t.jsx(de,{to:"/",className:"bg-blue-600 text-white px-5  py-2 rounded-lg font-semibold",children:"Go back"})]}):t.jsxs(t.Fragment,{children:[d&&t.jsx("div",{className:"fixed inset-0 z-40 flex items-center bg-black/10 justify-center backdrop-blur overflow-y-auto overflow-x-hidden",children:t.jsx("div",{className:"flex items-center justify-center  bg-white",children:t.jsxs("div",{className:"w-screen   md:w-[70vw] py-3  lg:w-[60vw]  shadow-2xl  shadow-black/30 rounded-md",children:[t.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 w-full pe-5  font-extrabold text-xl hover:text-gray-700 focus:outline-none placeholder:text-gray-600 placeholder:text-sm flex justify-end",children:"âœ•"}),t.jsxs("div",{className:"flex justify-start gap-2 md:gap-5 lg:gap-8 h-full w-full px-2 md:px-4 py-4",children:[t.jsx("div",{className:' bg-[url("././assets/login_image.png")] max-sm:hidden  w-1/5  md:w-1/3 flex-shrink bg-cover  bg-center bg-no-repeat'}),t.jsx("div",{className:"w-full md:w-2/5 flex-grow flex-shrink",children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-semibold",children:"Log In To Get Started"}),t.jsx("div",{className:"flex flex-col flex-wrap lg:flex-row justify-between gap-5 mt-5",children:t.jsxs("div",{className:"flex flex-col flex-grow gap-2",children:[t.jsx("label",{htmlFor:"loginEmail",className:"font-semibold",children:"Email"}),t.jsx("input",{type:"text",name:"loginEmail",id:"loginEmail",value:E,autoComplete:"off",onChange:P,className:"border-2 border-gray-300 outline-none p-2 rounded-md",placeholder:"Enter your Email"}),r.email&&t.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:r.email}),r.error&&t.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:r.error})]})}),t.jsxs("div",{className:"flex flex-col mt-5 gap-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Your Password"})}),t.jsx("input",{onFocus:a=>a.target.type="text",onBlur:a=>a.target.type="password",type:"loginPassword",id:"loginPassword",name:"loginPassword",value:C,onChange:P,autoComplete:"off",placeholder:"Enter your Password",className:"border-2  border-gray-300 outline-none p-2 rounded-md"}),r.password&&t.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:r.password}),r.error==="Incorrect password"&&t.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:r.error})]}),t.jsx("div",{className:"recaptacha-login  mt-5 ",children:t.jsx(ce,{sitekey:"6LfDSrsqAAAAAI2jP2tOdr2l4VkiztyX2S2H0Fxg",onChange:se})}),t.jsx("button",{disabled:!R||v,onClick:ee,className:`${R?"bg-sky-800":"bg-gray-400"} transition-all duration-300 w-full p-3 mt-2 rounded-md text-white`,children:v?t.jsx("div",{className:"flex justify-center items-center",children:t.jsx("span",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}):"Log In"}),t.jsxs("button",{onClick:()=>ae(),className:"flex items-center justify-center gap-3 px-6 py-3 bg-white shadow-md rounded-lg border hover:bg-gray-50 transition",children:[t.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google Logo",className:"w-5 h-5"}),t.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Google"})]}),t.jsxs("div",{className:"flex items-center flex-wrap mt-5 mb-5 gap-2 ",children:[t.jsx("p",{children:"Don't you have an account?"}),t.jsx("button",{onClick:Z,className:"bg-sky-800 px-3 py-1 cursor-pointer  text-white rounded",children:"Register"})]})]})})]})]})})}),t.jsx(ue,{}),t.jsx(me,{handlehighlightsScroll:A,handleInformationScroll:F,handleTourPlanningScroll:V,handleLocationShareScroll:O,reviewRefScroll:B}),t.jsx(ge,{}),t.jsx(pe,{highlightsRef:n,LocationShareRef:w,informationRef:h,TourPlanningRef:x,reviewRef:S,dummyRef:T}),t.jsx(fe,{className:"pb-36 md:pb-0"})]})})})}export{Ne as default};
