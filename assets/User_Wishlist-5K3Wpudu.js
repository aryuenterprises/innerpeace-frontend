const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Ccf_15wv.js","assets/index-jsvUWunc.css","assets/MyProfile_Sidebar-CBgINN-p.js","assets/index-C9MnEhzT.js"])))=>i.map(i=>d[i]);
import{r as a,_ as i,u as v,j as e,G as w,L as D,M as E,a as I}from"./index-Ccf_15wv.js";let L=a.lazy(()=>i(()=>import("./index-Ccf_15wv.js").then(l=>l.b9),__vite__mapDeps([0,1]))),S=a.lazy(()=>i(()=>import("./MyProfile_Sidebar-CBgINN-p.js"),__vite__mapDeps([2,0,1,3]))),T=a.lazy(()=>i(()=>import("./index-Ccf_15wv.js").then(l=>l.ba),__vite__mapDeps([0,1])));const A=()=>{const[l,n]=a.useState(""),[c,f]=a.useState(),[y,x]=a.useState(!1),d=v(),j=localStorage.getItem("loginid"),[p,N]=a.useState([]);a.useEffect(()=>{document.title="Wishlist - Innerpece"},[]),a.useEffect(()=>{const s=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(s){n(!0);const{id:t}=s;f(t)}else n(!1)},[]),a.useEffect(()=>{(async()=>{x(!0);try{const t={Authorization:`Bearer ${j}`};let r=await I.get("https://backoffice.innerpece.com/api/get-wishlist",{params:{user_id:c},headers:t});N(r.data.data)}catch(t){console.log(t)}finally{x(!1)}})()},[c]);const _=()=>{d("/login"),window.scrollTo({top:0,behavior:"instant"})},h=(s,t,r)=>{if(r==="stay")d(`/staysdetails/${s}`,{state:{id:s,title:t}});else if(r==="program"){const o=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");d(`/${s}/${o}`,{state:{id:s,title:t}})}window.scrollTo({top:0,behavior:"instant"})};return e.jsxs("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[e.jsx(w,{}),e.jsxs(a.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(L,{}),e.jsxs("div",{className:"flex gap-1 sm:gap-2  px-2 py-0.5  items-center",children:[e.jsx(D,{to:"/",children:e.jsx("p",{className:"text-xs sm:text-sm",children:"Home"})}),e.jsx(E,{className:"text-xl"}),e.jsx("p",{className:"text-blue-500 font-medium sm:font-semibold",children:"Wishlist"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(S,{})}),l&&e.jsx("div",{className:"flex flex-col shadow-md basis-full md:basis-3/4 py-5 h-fit overflow-x-auto bg-white px-5 gap-5 rounded-md ",children:y?e.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-blue-500 border-opacity-80"})}):p.length>0?e.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left text-sm font-semibold text-gray-600",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"S.no"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Date"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Title"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Action"})]})}),e.jsx("tbody",{children:p.slice().map((s,t)=>{var r,o;return e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:t+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.created_at.split("T")[0]}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:[(r=s==null?void 0:s.stay_dts)==null?void 0:r.stay_title,(o=s==null?void 0:s.program_dts)==null?void 0:o.title]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>{var g,b,u,m;return s!=null&&s.program_dts?h((g=s.program_dts)==null?void 0:g.id,(b=s.program_dts)==null?void 0:b.title,"program"):s!=null&&s.stay_dts?h((u=s.stay_dts)==null?void 0:u.id,(m=s.stay_dts)==null?void 0:m.stay_title,"stay"):null},className:"rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300",children:"View"})})]},t)})})]}):e.jsx("div",{className:"h-[50vh]",children:e.jsx("p",{className:"text-xl mx-auto text-center w-full font-medium",children:"No Wishlist Found"})})}),l===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:_,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your wishlist"]})})]}),e.jsx(T,{})]})]})};export{A as default};
