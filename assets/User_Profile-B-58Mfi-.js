const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CYpsP2oU.js","assets/index-BL2HkQDj.css","assets/MyProfile_Sidebar-CvPGEqbb.js","assets/index-DFMdlwft.js","assets/index-Dxn2HIOw.js"])))=>i.map(i=>d[i]);
import{r as t,_ as i,u as J,j as e,w as M,a as W,S as $}from"./index-CYpsP2oU.js";let G=t.lazy(()=>i(()=>import("./index-CYpsP2oU.js").then(n=>n.aq),__vite__mapDeps([0,1]))),K=t.lazy(()=>i(()=>import("./MyProfile_Sidebar-CvPGEqbb.js"),__vite__mapDeps([2,0,1,3,4]))),Q=t.lazy(()=>i(()=>import("./index-CYpsP2oU.js").then(n=>n.ar),__vite__mapDeps([0,1])));const Y=()=>{const n=J(),[r,c]=t.useState(""),[I,D]=t.useState(""),[d,u]=t.useState(""),[m,g]=t.useState(""),[f,p]=t.useState(""),[x,h]=t.useState(""),[b,N]=t.useState(""),[y,j]=t.useState(""),[v,w]=t.useState(""),[C,_]=t.useState(""),[S,E]=t.useState(""),[F,P]=t.useState(""),[L,U]=t.useState(!1);t.useEffect(()=>{document.title="Profile - Innerpece"},[]),t.useEffect(()=>{const s=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(s){c(!0);const{first_name:a,last_name:l,email:O,phone:R,dob:T,street:Z,city:A,state:H,zip_province_code:V,country:q,id:B}=s;u(a),g(l),p(O),h(R),N(T),j(Z),w(A),_(H),E(V),P(q),D(B)}else c(!1)},[]);const o=s=>{U(!0);const{value:a,name:l}=s.target;l==="FirstName"&&u(a),l==="LastName"&&g(a),l==="Email"&&p(a),l==="PhoneNo"&&h(a.slice(0,10)),l==="Dob"&&N(a),l==="Street"&&j(a),l==="City"&&w(a),l==="State"&&_(a),l==="ZipCode"&&E(a),l==="Country"&&P(a)},z=()=>{n("/login"),window.scrollTo({top:0,behavior:"instant"})},k=async()=>{try{const s={first_name:d,last_name:m,email:f,dob:b,phone:x,street:y,city:v,state:C,zip_province_code:S,country:F},a=await W.post(`https://backoffice.innerpece.com/api/v1/update-profile/${I}`,s);$.fire({position:"center",icon:"success",title:"Profile updated successfully",showConfirmButton:!1,timer:1500}),localStorage.setItem("loginDetails",JSON.stringify(a.data.user)),U(!1)}catch(s){console.log(s)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[e.jsxs("div",{onClick:()=>window.open("https://wa.me/6384131642"),className:"fixed whatsapp z-50 bottom-2 right-2 cursor-pointer flex items-center group",children:[e.jsx("div",{className:"text-black opacity-0 scale-90 translate-x-5 group-hover:opacity-100 group-hover:scale-100 group-hover:translate-x-0 bg-white px-2 py-1 rounded-md shadow-md ml-2 transition-all duration-300",children:e.jsx("p",{children:"Whatsapp Enquiry"})}),e.jsx("img",{src:M,className:"h-10 w-10  transition-all duration-500"})]}),e.jsxs(t.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(G,{}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(K,{})}),r&&e.jsxs("div",{className:"flex flex-col p-6 bg-white rounded-lg shadow-md basis-full ",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"My Profile"}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 mt-8 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"firstName",className:"text-gray-600 font-medium w-1/3",children:"First Name"}),e.jsx("input",{autoComplete:"on",id:"firstName",name:"FirstName",value:d,type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"lastName",className:"text-gray-600 font-medium w-1/3",children:"Last Name"}),e.jsx("input",{autoComplete:"on",id:"lastName",name:"LastName",type:"text",value:m,className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"email",className:"text-gray-600 font-medium w-1/3",children:"Email"}),e.jsx("input",{readOnly:!0,autoComplete:"on",id:"email",name:"Email",type:"email",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:f})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"phone",className:"text-gray-600 font-medium w-1/3",children:"Phone No"}),e.jsx("input",{autoComplete:"on",id:"phone",name:"PhoneNo",type:"number",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:x,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"dob",className:"text-gray-600 font-medium w-1/3",children:"DOB"}),e.jsx("input",{id:"dob",name:"Dob",type:"date",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:b,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"street",className:"text-gray-600 font-medium w-1/3",children:"Street"}),e.jsx("input",{id:"street",name:"Street",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:y,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"city",className:"text-gray-600 font-medium w-1/3",children:"City"}),e.jsx("input",{id:"city",name:"City",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:v,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"state",className:"text-gray-600 font-medium w-1/3",children:"State"}),e.jsx("input",{id:"state",name:"State",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:C,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"zipCode",className:"text-gray-600 font-medium w-1/3",children:"Zip/Postal Code"}),e.jsx("input",{id:"zipCode",name:"ZipCode",type:"number",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:S,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"country",className:"text-gray-600 font-medium w-1/3",children:"Country"}),e.jsx("input",{id:"country",name:"Country",type:"text",autoComplete:"on",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:F,onChange:s=>o(s)})]})]}),L&&e.jsx("button",{onClick:k,className:"mt-6 bg-blue-600 w-fit text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Save Changes"})]}),r===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:z,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your profile"]})})]}),e.jsx(Q,{})]})]})};export{Y as default};
