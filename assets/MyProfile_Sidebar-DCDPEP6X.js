import{u as w,r as s,j as e,al as U,Q as _,am as L,an as k,S as D,a as F}from"./index-Dk4njj8o.js";import{a as B}from"./index-CnpQsnpJ.js";const T=()=>{const g=w(),[o,d]=s.useState(!1),[f,m]=s.useState(""),[u,i]=s.useState(null),[h,x]=s.useState(null),[O,b]=s.useState(null),[j,N]=s.useState(!0),[y,p]=s.useState(!1),r=t=>{g(t),window.scrollTo({top:0,behavior:"instant"})};s.useEffect(()=>{const t=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(t&&d(!0),t){const{profile_image:l,id:a,googlePicture:n}=t;i(l),m(a),x(n)}setTimeout(()=>{N(!1)},1e3)},[]);const S=()=>{D.fire({title:"Are you sure?",text:"You want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Logout"}).then(t=>{t.isConfirmed&&(localStorage.removeItem("loginDetails"),localStorage.removeItem("loginid"),g("/login"))})},v=async t=>{const l=t.target.files[0];if(l){p(!0),i(URL.createObjectURL(l)),b(l);try{const a=new FormData;a.append("image_1",l);const n=await F.post(`https://backoffice.innerpece.com/api/v1/update-profile/${f}`,a,{headers:{"Content-Type":"multipart/form-data"}});localStorage.setItem("loginDetails",JSON.stringify(n.data.user));const c=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(c&&d(!0),c){const{profile_image:I,id:C}=c;i(I),m(C),x("")}}catch(a){console.log(a)}finally{p(!1)}}};return e.jsxs("div",{className:"flex flex-col md:sticky h-fit top-0 p-3 bg-white rounded-lg shadow-md",children:[j&&e.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-white opacity-75 z-10",children:e.jsx("div",{className:"spinner-border animate-spin border-4 border-t-4 border-blue-600 rounded-full w-12 h-12"})}),e.jsxs("div",{className:"h-56 flex flex-col items-center w-full rounded-lg relative",children:[e.jsx("img",{src:h?"https://lh3.googleusercontent.com/a/ACg8ocIhVNzZboB6D8GmE2nCJd5aOAuk6Q5x3pluBLxq45TnCZUoPA=s96-c":u?`https://backoffice.innerpece.com/${u}`:U,alt:"userImage",className:"w-full h-full object-contain object-center rounded-lg"}),e.jsx("label",{htmlFor:"changeimage",className:`font-medium mt-1 cursor-pointer text-gray-500 hover:text-gray-600 ${!o&&"opacity-0 hidden"}`,children:"Change Image"}),e.jsx("input",{disabled:!o,type:"file",id:"changeimage",accept:"image/*",onChange:v,className:"opacity-0"}),y&&e.jsx("p",{className:"text-sm text-blue-600 font-medium mt-2",children:"Uploading..."})]}),e.jsxs("div",{className:"flex flex-col mt-12 ",children:[e.jsxs("div",{onClick:()=>r("/profile"),className:"flex items-center px-4 py-3 rounded-lg hover:bg-blue-100 cursor-pointer gap-3",children:[e.jsx(_,{className:"text-xl text-blue-600"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Profile"})]}),e.jsxs("div",{onClick:()=>r("/wishlist"),className:"flex items-center px-4 py-3 rounded-lg hover:bg-blue-100 cursor-pointer gap-3",children:[e.jsx(B,{className:"text-2xl text-red-500"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Wishlist"})]}),e.jsxs("div",{onClick:()=>r("/enquiries"),className:"flex items-center px-4 py-3 rounded-lg hover:bg-blue-100 cursor-pointer gap-3",children:[e.jsx(L,{className:"text-xl text-green-500"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Enquiries"})]}),o&&e.jsxs("div",{onClick:S,className:"flex items-center px-4 py-3 rounded-lg hover:bg-blue-100 cursor-pointer gap-3",children:[e.jsx(k,{className:"text-2xl text-gray-700"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Logout"})]})]})]})};export{T as default};
