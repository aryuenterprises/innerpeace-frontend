const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Dahchei9.js","assets/index-D2xLFtc9.css","assets/MyProfile_Sidebar-C26VTvyR.js","assets/index-CWqJ6FsZ.js"])))=>i.map(i=>d[i]);
import{r as t,_ as r,u as G,j as e,G as J,L as $,M as K,a as q,Z as Q}from"./index-Dahchei9.js";let W=t.lazy(()=>r(()=>import("./index-Dahchei9.js").then(o=>o.b9),__vite__mapDeps([0,1]))),X=t.lazy(()=>r(()=>import("./MyProfile_Sidebar-C26VTvyR.js"),__vite__mapDeps([2,0,1,3]))),Y=t.lazy(()=>r(()=>import("./index-Dahchei9.js").then(o=>o.ba),__vite__mapDeps([0,1])));const te=()=>{const o=G(),[n,i]=t.useState(""),[k,D]=t.useState(""),[d,c]=t.useState(""),[m,u]=t.useState(""),[x,p]=t.useState(""),[g,b]=t.useState(""),[f,h]=t.useState(""),[y,v]=t.useState(""),[N,_]=t.useState(""),[j,S]=t.useState(""),[C,w]=t.useState(""),[P,U]=t.useState(""),[E,I]=t.useState(!1);t.useEffect(()=>{document.title="Profile - Innerpece"},[]),t.useEffect(()=>{const a=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(a){i(!0);const{first_name:s,last_name:l,email:T,phone:A,dob:F,street:R,city:Z,state:H,zip_province_code:M,country:V,id:B}=a;c(s),u(l),p(T),b(A),h(F),v(R),_(Z),S(H),w(M),U(V),D(B)}else i(!1)},[]);const O=a=>{I(!0);const{value:s,name:l}=a.target;l==="FirstName"&&c(s),l==="LastName"&&u(s),l==="Email"&&p(s),l==="PhoneNo"&&b(s.slice(0,10)),l==="Dob"&&h(s),l==="Street"&&v(s),l==="City"&&_(s),l==="State"&&S(s),l==="ZipCode"&&w(s),l==="Country"&&U(s)},z=()=>{o("/login"),window.scrollTo({top:0,behavior:"instant"})},L=async()=>{try{const a={first_name:d,last_name:m,email:x,dob:f,phone:g,street:y,city:N,state:j,zip_province_code:C,country:P},s=await q.post(`https://backoffice.innerpece.com/api/v1/update-profile/${k}`,a);Q.fire({position:"center",icon:"success",title:"Profile updated successfully",showConfirmButton:!1,timer:1500}),localStorage.setItem("loginDetails",JSON.stringify(s.data.user)),I(!1)}catch(a){console.log(a)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[e.jsx(J,{}),e.jsxs(t.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(W,{}),e.jsxs("div",{className:"flex gap-1 sm:gap-2  px-2 py-0.5  items-center",children:[e.jsx($,{to:"/",children:e.jsx("p",{className:"text-xs sm:text-sm",children:"Home"})}),e.jsx(K,{className:"text-xl"}),e.jsx("p",{className:"text-blue-500 font-medium sm:font-semibold",children:"Profile"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(X,{})}),n&&e.jsx("div",{className:"basis-full",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white/90 backdrop-blur rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.08)] border border-gray-100",children:[e.jsxs("div",{className:"p-4 md:px-6 lg:px-8 py-6 border-b",children:[e.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-semibold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your personal details and preferences"})]}),E&&e.jsx("div",{className:"p-4 md:px-6 lg:px-8 pb-8  flex justify-end",children:e.jsx("button",{onClick:L,className:`px-5 md:px-8 lg:px-10 py-2 md:py-3 lg:py-4 rounded-xl md:rounded-2xl bg-blue-600 text-white font-medium\r
              shadow-lg shadow-blue-600/20\r
              hover:bg-blue-700 hover:shadow-blue-700/30\r
              active:scale-95 transition-all text-sm md:text-base`,children:"Save Changes"})}),e.jsx("div",{className:"p-4 md:p-6 lg:p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[{label:"First Name",name:"FirstName",value:d},{label:"Last Name",name:"LastName",value:m},{label:"Email",name:"Email",value:x,readOnly:!0},{label:"Phone Number",name:"PhoneNo",value:g},{label:"Date of Birth",name:"Dob",value:f,type:"date"},{label:"Street Address",name:"Street",value:y},{label:"City",name:"City",value:N},{label:"State",name:"State",value:j},{label:"ZIP Code",name:"ZipCode",value:C},{label:"Country",name:"Country",value:P}].map((a,s)=>e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:a.label}),e.jsx("input",{type:a.type||"text",name:a.name,value:a.value,readOnly:a.readOnly,onChange:l=>O(l),className:`w-full px-5 py-4 rounded-2xl border text-gray-900
                bg-gray-50/60
                focus:bg-white focus:outline-none focus:ring-4 focus:ring-blue-100
                transition-all
                ${a.readOnly&&"cursor-not-allowed opacity-70"}
              `})]},s))}),E&&e.jsx("div",{className:"p-4 md:px-6 lg:px-8 pb-8  flex justify-end",children:e.jsx("button",{onClick:L,className:`px-5 md:px-8 lg:px-10 py-2 md:py-3 lg:py-4 rounded-xl md:rounded-2xl bg-blue-600 text-white font-medium\r
              shadow-lg shadow-blue-600/20\r
              hover:bg-blue-700 hover:shadow-blue-700/30\r
              active:scale-95 transition-all text-sm md:text-base`,children:"Save Changes"})})]})}),n===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:z,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your profile"]})})]}),e.jsx(Y,{})]})]})};export{te as default};
