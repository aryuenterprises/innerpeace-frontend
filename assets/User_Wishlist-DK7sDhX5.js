const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Dahchei9.js","assets/index-D2xLFtc9.css","assets/MyProfile_Sidebar-C26VTvyR.js","assets/index-CWqJ6FsZ.js"])))=>i.map(i=>d[i]);
import{r as a,_ as c,u as y,j as e,G as j,L as N,M as w,a as v}from"./index-Dahchei9.js";let _=a.lazy(()=>c(()=>import("./index-Dahchei9.js").then(i=>i.b9),__vite__mapDeps([0,1]))),k=a.lazy(()=>c(()=>import("./MyProfile_Sidebar-C26VTvyR.js"),__vite__mapDeps([2,0,1,3]))),I=a.lazy(()=>c(()=>import("./index-Dahchei9.js").then(i=>i.ba),__vite__mapDeps([0,1])));const D=()=>{const[i,d]=a.useState(""),[x,h]=a.useState(),[m,p]=a.useState(!1),o=y(),g=localStorage.getItem("loginid"),[n,b]=a.useState([]);a.useEffect(()=>{document.title="Wishlist - Innerpece"},[]),a.useEffect(()=>{const s=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(s){d(!0);const{id:r}=s;h(r)}else d(!1)},[]),a.useEffect(()=>{(async()=>{p(!0);try{const r={Authorization:`Bearer ${g}`};let l=await v.get("https://backoffice.innerpece.com/api/get-wishlist",{params:{user_id:x},headers:r});b(l.data.data)}catch(r){console.log(r)}finally{p(!1)}})()},[x]);const u=()=>{o("/login"),window.scrollTo({top:0,behavior:"instant"})},f=(s,r,l)=>{if(l==="stay")o(`/staysdetails/${s}`,{state:{id:s,title:r}});else if(l==="program"){const t=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");o(`/${s}/${t}`,{state:{id:s,title:r}})}window.scrollTo({top:0,behavior:"instant"})};return e.jsxs("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[e.jsx(j,{}),e.jsxs(a.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(_,{}),e.jsxs("div",{className:"flex gap-1 sm:gap-2  px-2 py-0.5  items-center",children:[e.jsx(N,{to:"/",children:e.jsx("p",{className:"text-xs sm:text-sm",children:"Home"})}),e.jsx(w,{className:"text-xl"}),e.jsx("p",{className:"text-blue-500 font-medium sm:font-semibold",children:"Wishlist"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(k,{})}),i&&e.jsxs("div",{className:"flex flex-col shadow-lg border border-gray-100 basis-full md:basis-3/4 py-6 bg-white rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"px-6 flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 tracking-tight",children:"My Wishlist"}),e.jsxs("span",{className:"bg-blue-600 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-full shadow-sm",children:[n.length," Items"]})]}),m?e.jsx("div",{className:"flex justify-center items-center h-[40vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-50 border-t-blue-600"})}):n.length>0?e.jsxs("div",{className:"overflow-x-auto scrollbar-hide",children:[e.jsxs("table",{className:"min-w-[600px] w-full border-separate border-spacing-0",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50",children:[e.jsx("th",{className:"sticky left-0 bg-gray-50 z-10 px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider border-b border-gray-100",children:"#"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider border-b border-gray-100",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider border-b border-gray-100",children:"Title & Category"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-400 uppercase tracking-wider border-b border-gray-100",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:n.map((s,r)=>{const l=!!(s!=null&&s.program_dts),t=l?s.program_dts:s==null?void 0:s.stay_dts;return e.jsxs("tr",{className:"group hover:bg-blue-50/30 transition-all duration-150",children:[e.jsx("td",{className:"sticky left-0 bg-white group-hover:bg-blue-50/30 z-10 px-6 py-5 text-sm font-medium text-gray-400 border-b border-transparent",children:r+1}),e.jsx("td",{className:"px-6 py-5 text-sm text-gray-600 whitespace-nowrap",children:s.created_at.split("T")[0]}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col min-w-[200px]",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800 line-clamp-1 group-hover:text-blue-600 transition-colors",children:(t==null?void 0:t.title)||(t==null?void 0:t.stay_title)}),e.jsx("span",{className:`text-[10px] font-black uppercase mt-1 ${l?"text-purple-500":"text-emerald-500"}`,children:l?"Program":"Stay"})]})}),e.jsx("td",{className:"px-6 py-5 text-right whitespace-nowrap",children:e.jsx("button",{onClick:()=>f(t==null?void 0:t.id,(t==null?void 0:t.title)||(t==null?void 0:t.stay_title),l?"program":"stay"),className:"inline-flex items-center px-4 py-2 bg-gray-900 hover:bg-blue-600 text-white text-xs font-bold rounded-lg transition-all transform active:scale-95 shadow-md hover:shadow-blue-200",children:"View"})})]},r)})})]}),e.jsx("div",{className:"md:hidden px-6 py-3 bg-gray-50 text-[10px] text-gray-400 text-center italic",children:"← Swipe horizontally to see more details →"})]}):e.jsx("div",{className:"h-[30vh] flex items-center justify-center",children:e.jsx("p",{className:"text-gray-400 font-medium",children:"No items in your wishlist."})})]}),i===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:u,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your wishlist"]})})]}),e.jsx(I,{})]})]})};export{D as default};
