const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ZuwkMiKm.js","assets/index-DEcTJfEg.css","assets/MyProfile_Sidebar-D0aA3EqG.js","assets/index-Bb_uHhue.js","assets/index-84LYG_-w.js"])))=>i.map(i=>d[i]);
import{r as a,_ as n,u as v,j as e,w,a as E}from"./index-ZuwkMiKm.js";let D=a.lazy(()=>n(()=>import("./index-ZuwkMiKm.js").then(l=>l.ap),__vite__mapDeps([0,1]))),I=a.lazy(()=>n(()=>import("./MyProfile_Sidebar-D0aA3EqG.js"),__vite__mapDeps([2,0,1,3,4]))),S=a.lazy(()=>n(()=>import("./index-ZuwkMiKm.js").then(l=>l.aq),__vite__mapDeps([0,1])));const L=()=>{const[l,d]=a.useState(""),[c,f]=a.useState(),[y,x]=a.useState(!1),i=v(),j=localStorage.getItem("loginid"),[p,N]=a.useState([]);a.useEffect(()=>{document.title="Wishlist - Innerpece"},[]),a.useEffect(()=>{const s=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(s){d(!0);const{id:t}=s;f(t)}else d(!1)},[]),a.useEffect(()=>{(async()=>{x(!0);try{const t={Authorization:`Bearer ${j}`};let r=await E.get("https://backoffice.innerpece.com/api/get-wishlist",{params:{user_id:c},headers:t});N(r.data.data)}catch(t){console.log(t)}finally{x(!1)}})()},[c]);const _=()=>{i("/login"),window.scrollTo({top:0,behavior:"instant"})},h=(s,t,r)=>{if(r==="stay")i(`/staysdetails/${s}`,{state:{id:s,title:t}});else if(r==="program"){const o=t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");i(`/${s}/${o}`,{state:{id:s,title:t}})}window.scrollTo({top:0,behavior:"instant"})};return e.jsxs("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[e.jsxs("div",{onClick:()=>window.open("https://wa.me/6384131642"),className:"fixed whatsapp z-50 bottom-2 right-2 cursor-pointer flex items-center group",children:[e.jsx("div",{className:"text-black opacity-0 scale-90 translate-x-5 group-hover:opacity-100 group-hover:scale-100 group-hover:translate-x-0 bg-white px-2 py-1 rounded-md shadow-md ml-2 transition-all duration-300",children:e.jsx("p",{children:"Whatsapp Enquiry"})}),e.jsx("img",{src:w,className:"h-10 w-10  transition-all duration-500"})]}),e.jsxs(a.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(D,{}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(I,{})}),l&&e.jsx("div",{className:"flex flex-col shadow-md basis-full md:basis-3/4 py-5 h-fit overflow-x-auto bg-white px-5 gap-5 rounded-md ",children:y?e.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-blue-500 border-opacity-80"})}):p.length>0?e.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left text-sm font-semibold text-gray-600",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"S.no"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Date"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Title"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Action"})]})}),e.jsx("tbody",{children:p.slice().map((s,t)=>{var r,o;return e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:t+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.created_at.split("T")[0]}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:[(r=s==null?void 0:s.stay_dts)==null?void 0:r.stay_title,(o=s==null?void 0:s.program_dts)==null?void 0:o.title]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>{var g,u,b,m;return s!=null&&s.program_dts?h((g=s.program_dts)==null?void 0:g.id,(u=s.program_dts)==null?void 0:u.title,"program"):s!=null&&s.stay_dts?h((b=s.stay_dts)==null?void 0:b.id,(m=s.stay_dts)==null?void 0:m.stay_title,"stay"):null},className:"rounded bg-blue-500 px-3 py-1 text-white hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300",children:"View"})})]},t)})})]}):e.jsx("div",{className:"h-[50vh]",children:e.jsx("p",{className:"text-xl mx-auto text-center w-full font-medium",children:"No Wishlist Found"})})}),l===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:_,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your wishlist"]})})]}),e.jsx(S,{})]})]})};export{L as default};
