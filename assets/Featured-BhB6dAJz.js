import{b as L,u as R,r as o,j as e,P as T,Q as W,U as Y,V as Z,W as J,X as $,Y as G,Z as K,$ as X,a0 as ee,a1 as te,a2 as ae,a3 as se,a as d}from"./index-CYpsP2oU.js";import"./purify.es-CocPUCx9.js";const re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGqSURBVHgB7VO7TgJREJ3ZayIWytpZQmehEeMPaKOxkpo1ET9AgT+AypIAFnZAIbHUylCBnZ0Q7YHOzhVjsoD3jnNREhZ5RRMrTjK5O489M5kHwAzfwHHOpcNMBElFOczHap0Ic83CSQKmgBjlMEPpMD8XiJBCVAkkqgJifH5tv9V6ur2H38JrZR6WrHSy38Z61GulX8xw0pz0vzHaRQESVHYFk9S66TjwJ+IySgz2W5QxdwBEdecqVocJmBvl0H0FEiVvKG0SUBUN3GDSoEIIwxQYOjzuYYCkcdbdBqQVHuAqm1nQw2tkLmzt3TmVot2L595nF9Z3G85j8bln+9GKRev8iD5E6atqufN6GVlm8esXSW4SQAPa7qo52bYEERiwuSr1UUfUeLUSdiEShzHQm9Eb4rwQJU6Yakt57fGAbeditqti6hhZDshNItVQbSPKhDUtrPq4wqT+Zo7akFbgtiFlHqZAk5OjlH4toK8SINbV35W/y9Qf7LVSJT0wDioPZSOs8EmnBs18NDVFkHgrnOZ6NlfFKNUxEd3ACBhIODwf5YXqHs8M/4hPFNyv0KgGIVUAAAAASUVORK5CYII=";function ce(){const U=L(),H=R(),{id:c,title:oe}=U.state||{},[a,u]=o.useState([]),[m,C]=o.useState(""),[N,f]=o.useState(!1),b=window.location.href,w=(a==null?void 0:a.program_desc)||"",[y,S]=o.useState(""),_=async()=>{const t=JSON.parse(localStorage.getItem("loginDetails")),s=localStorage.getItem("loginid");if(!t||!t.id){console.error("User is not logged in"),H("/login"),window.scrollTo({top:0,behavior:"instant"});return}const{id:l}=t,x={Authorization:`Bearer ${s}`},i=new FormData;i.append("user_id",l),i.append("program_id",c),i.append("action",N?"remove":"add");try{const r=await d.post("https://backoffice.innerpece.com/api/add-remove-wishlist",i,{headers:x});console.log(r),f(n=>!n),(async()=>{try{const n=localStorage.getItem("loginDetails"),v=n?JSON.parse(n):null,M={program_id:c||k,user_id:(v==null?void 0:v.id)||null},q={program_id:p},g=p?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",q):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",M);u(g.data.data),S(g.data.data.name),u(g.data.data),f(g.data.data.wishlists)}catch(n){console.log(n)}})()}catch(r){console.error("An error occurred while updating wishlist:",r)}},k=window.location.pathname.split("/")[1],p=window.location.href.split("#")[1];o.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("loginDetails"),l=s?JSON.parse(s):null,x={program_id:c||k,user_id:(l==null?void 0:l.id)||null},i={program_id:p},r=p?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",i):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",x);S(r.data.data.name),u(r.data.data),f(r.data.data.wishlists),C([...r.data.data.gallery_img||[],...r.data.data.stay_images||[]])}catch(s){console.log(s)}})()},[]);const[j,I]=o.useState(!1),[E,A]=o.useState(0),F=(t=0)=>{A(t),I(!0)},B=()=>{I(!1)},[D,h]=o.useState(!1),O=()=>{h(!0),setTimeout(()=>{A(t=>t===m.length-1?0:t+1),h(!1)},200)},V=()=>{h(!0),setTimeout(()=>{A(t=>t===0?m.length-1:t-1),h(!1)},200)};o.useEffect(()=>(j?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[j]);function z(t=""){if(!t)return"";try{let s=t.replace(/\\+/g,"");return new DOMParser().parseFromString(s,"text/html").documentElement.textContent||""}catch(s){return console.error("Failed to clean API HTML:",s),t}}const P=(a==null?void 0:a.current_location)||"",Q=z(P);return e.jsxs("div",{className:"mt-20 md:mt-28  mx-3 md:mx-10   xl:mx-20 ",children:[e.jsxs("div",{className:"flex flex-wrap flex-col items-start justify-between gap-2",children:[y&&e.jsx("p",{className:"font-medium text-lg font-jakarta bg-gradient-to-r from-[#0E598F] to-[#041A29] text-transparent bg-clip-text ",children:`Welcome, ${y}`}),e.jsx("p",{className:"font-semibold text-2xl md:text-4xl",children:a.title}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[a.member_capacity&&e.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("img",{src:re,alt:"",className:"object-contain"}),e.jsxs("p",{className:"text-gray-600",children:[a.member_capacity," ",a.member_capacity==="1"?"member":"members"]})]}),a.current_location&&e.jsxs("div",{className:"flex items-center  gap-1",children:[e.jsx("img",{src:T,alt:"",className:"object-contain"}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:Q}})]}),e.jsx("div",{className:"flex w-full sm:w-fit flex-row  flex-wrap md:flex-col gap-5 ",children:e.jsxs("div",{className:"flex flex-wrap justify-between sm:justify-start w-full sm:w-fit items-center gap-2 md:gap-5",children:[e.jsx(W,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0965FE]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(Y,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsx(Z,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0077B5]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(J,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsx($,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#25D366]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(G,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-red-500  hover:border-white border-gray-700 text-gray-700 text-2xl sm:text-base hover:text-white transition-all ease-in duration-200  rounded-full p-2 gap-2 ",onClick:()=>_(),children:[N?e.jsx(K,{className:"text-red-300 "}):e.jsx(X,{}),e.jsx("p",{className:"hidden md:block",children:"WishList"})]})]})})]})]}),a&&a.gallery_img&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-5 mt-5 h-[60vh] max-md:hidden",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${a.gallery_img[0]}`,alt:"",className:"rounded-xl w-[60%] h-full object-cover"}),e.jsx("div",{className:"w-[40%] grid grid-cols-2 grid-rows-2 gap-5",children:a.gallery_img.slice(1,5).map((t,s)=>e.jsxs("div",{onClick:()=>F(s+1),className:"w-full h-full relative cursor-pointer ",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${t}`,alt:"",className:"rounded-xl w-full   h-full object-cover absolute"}),s===3&&e.jsxs("div",{onClick:l=>{l.stopPropagation(),F(0)},className:"flex items-center gap-3 absolute bottom-2 right-2  bg-white rounded-full px-4 py-1",children:[e.jsx(ee,{}),e.jsx("p",{className:"font-medium text-sm text-black text",children:"See All"})]})]},s))})]}),e.jsx(e.Fragment,{})]}),j&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-xl",children:[e.jsxs("div",{className:"absolute w-full top-4 right-4 flex items-center justify-between",children:[e.jsx("p",{}),e.jsxs("p",{className:"text-white font-dmSans font-semibold",children:[E+1," / ",m.length]}),e.jsx("button",{onClick:B,className:"  text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(te,{size:20})})]}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("button",{onClick:V,className:"absolute left-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(ae,{size:24})}),e.jsx("img",{src:`https://backoffice.innerpece.com/${m[E]}`,alt:"modal-img",className:`w-[80vw] h-[80vh] object-cover rounded-xl  transition-opacity duration-200 ease-out ${D?"opacity-0":"opacity-100"}`}),e.jsx("button",{onClick:O,className:"absolute right-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(se,{size:24})})]})]})]})}export{ce as default};
