import{o as T,u as J,r,j as e,ay as G,az as W,aA as Y,aB as Z,aC as K,aD as $,aE as X,aF as ee,aG as ae,aH as se,aI as te,aJ as re,aK as le,a as d}from"./index-DEfNFO6a.js";import"./purify.es-CocPUCx9.js";const oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGqSURBVHgB7VO7TgJREJ3ZayIWytpZQmehEeMPaKOxkpo1ET9AgT+AypIAFnZAIbHUylCBnZ0Q7YHOzhVjsoD3jnNREhZ5RRMrTjK5O489M5kHwAzfwHHOpcNMBElFOczHap0Ic83CSQKmgBjlMEPpMD8XiJBCVAkkqgJifH5tv9V6ur2H38JrZR6WrHSy38Z61GulX8xw0pz0vzHaRQESVHYFk9S66TjwJ+IySgz2W5QxdwBEdecqVocJmBvl0H0FEiVvKG0SUBUN3GDSoEIIwxQYOjzuYYCkcdbdBqQVHuAqm1nQw2tkLmzt3TmVot2L595nF9Z3G85j8bln+9GKRev8iD5E6atqufN6GVlm8esXSW4SQAPa7qo52bYEERiwuSr1UUfUeLUSdiEShzHQm9Eb4rwQJU6Yakt57fGAbeditqti6hhZDshNItVQbSPKhDUtrPq4wqT+Zo7akFbgtiFlHqZAk5OjlH4toK8SINbV35W/y9Qf7LVSJT0wDioPZSOs8EmnBs18NDVFkHgrnOZ6NlfFKNUxEd3ACBhIODwf5YXqHs8M/4hPFNyv0KgGIVUAAAAASUVORK5CYII=";function me(){const H=T(),U=J(),{id:c,title:ie}=H.state||{},[t,u]=r.useState([]),[m,C]=r.useState(""),[A,f]=r.useState([]),b=window.location.href,w=(t==null?void 0:t.program_desc)||"",[y,S]=r.useState(""),_=async()=>{const a=JSON.parse(localStorage.getItem("loginDetails")),s=localStorage.getItem("loginid");if(!a||!a.id){console.error("User is not logged in"),U("/login"),window.scrollTo({top:0,behavior:"instant"});return}const{id:l}=a,h={Authorization:`Bearer ${s}`},i=new FormData;i.append("user_id",l),i.append("program_id",c),i.append("action",A?"remove":"add");try{const o=await d.post("https://backoffice.innerpece.com/api/add-remove-wishlist",i,{headers:h});f(n=>!n),(async()=>{try{const n=localStorage.getItem("loginDetails"),N=n?JSON.parse(n):null,q={program_id:c||k,user_id:(N==null?void 0:N.id)||null},R={program_id:g},p=g?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",R):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",q);u(p.data.data),S(p.data.data.name),u(p.data.data),f(p.data.data.wishlists)}catch(n){console.log(n)}})()}catch(o){console.error("An error occurred while updating wishlist:",o)}},k=window.location.pathname.split("/")[1],g=window.location.href.split("#")[1],[B,D]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("loginDetails"),l=s?JSON.parse(s):null,h={program_id:c||k,user_id:(l==null?void 0:l.id)||null},i={program_id:g},o=g?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",i):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",h);D(!1),S(o.data.data.name),u(o.data.data),f(o.data.data.wishlists),C([...o.data.data.gallery_img||[],...o.data.data.stay_images||[]])}catch(s){console.log(s)}})()},[]);const[j,I]=r.useState(!1),[E,v]=r.useState(0),F=(a=0)=>{v(a),I(!0)},O=()=>{I(!1)},[z,x]=r.useState(!1),V=()=>{x(!0),setTimeout(()=>{v(a=>a===m.length-1?0:a+1),x(!1)},200)},L=()=>{x(!0),setTimeout(()=>{v(a=>a===0?m.length-1:a-1),x(!1)},200)};r.useEffect(()=>(j?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[j]);function M(a=""){if(!a)return"";try{let s=a.replace(/\\+/g,"");return new DOMParser().parseFromString(s,"text/html").documentElement.textContent||""}catch(s){return console.error("Failed to clean API HTML:",s),a}}const P=(t==null?void 0:t.current_location)||"",Q=M(P);return e.jsx("div",{className:"mt-10 md:mt-20 mx-3 md:mx-10 xl:mx-20",children:B?e.jsxs("div",{className:"animate-pulse w-full",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4 mb-3"}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-2/3 mb-6"}),e.jsxs("div",{className:"flex flex-wrap justify-between gap-5 w-full",children:[e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-20 h-4 bg-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-24 h-4 bg-gray-300 rounded"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-4",children:[1,2,3,4].map(a=>e.jsx("div",{className:"w-24 h-8 bg-gray-300 rounded-full"},a))})]}),e.jsxs("div",{className:"mt-8 flex gap-5 h-[60vh] max-md:hidden",children:[e.jsx("div",{className:"w-[60%] bg-gray-300 rounded-xl"}),e.jsx("div",{className:"w-[40%] grid grid-cols-2 grid-rows-2 gap-5",children:[...Array(4)].map((a,s)=>e.jsx("div",{className:"bg-gray-300 w-full h-full rounded-xl"},s))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap flex-col items-start justify-between gap-2",children:[y&&e.jsx("p",{className:"font-medium text-lg font-jakarta bg-gradient-to-r from-[#0E598F] to-[#041A29] text-transparent bg-clip-text ",children:`Welcome, ${y}`}),e.jsx("p",{className:"font-semibold text-2xl md:text-4xl",children:t.title}),e.jsxs("div",{className:"flex flex-wrap gap-5 justify-between w-full",children:[e.jsxs("div",{className:"flex gap-5 ",children:[t.member_capacity&&e.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("img",{src:oe,alt:"",className:"object-contain"}),e.jsxs("p",{className:"text-gray-600",children:[t.member_capacity," ",t.member_capacity==="1"?"member":"members"]})]}),t.current_location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("img",{src:G,alt:"",className:"object-contain"}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:Q}})]})]}),e.jsx("div",{className:"flex w-full sm:w-fit flex-row flex-wrap md:flex-col gap-5 ",children:e.jsxs("div",{className:"flex flex-wrap justify-between sm:justify-start w-full sm:w-fit items-center gap-2 md:gap-5",children:[e.jsx(W,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0965FE] hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(Y,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsx(Z,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0077B5] hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(K,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsx($,{url:b,quote:w,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#25D366] hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(X,{size:22,round:!0}),e.jsx("p",{className:"text-xs md:text-base",children:"Share"})]})}),e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-red-500 hover:border-white border-gray-700 text-gray-700 text-2xl sm:text-base hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 ",onClick:()=>_(),children:[A?e.jsx(ee,{className:"text-red-300 "}):e.jsx(ae,{}),e.jsx("p",{className:"hidden md:block",children:"WishList"})]})]})})]})]}),t&&t.gallery_img&&e.jsxs("div",{className:"flex gap-5 mt-5 h-[60vh] max-md:hidden",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${t.gallery_img[0]}`,alt:"",className:"rounded-xl w-[60%] h-full object-cover"}),e.jsx("div",{className:"w-[40%] grid grid-cols-2 grid-rows-2 gap-5",children:t.gallery_img.slice(1,5).map((a,s)=>e.jsxs("div",{onClick:()=>F(s+1),className:"w-full h-full relative cursor-pointer ",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${a}`,alt:"",className:"rounded-xl w-full h-full object-cover absolute"}),s===3&&e.jsxs("div",{onClick:l=>{l.stopPropagation(),F(0)},className:"flex items-center gap-3 absolute bottom-2 right-2 bg-white rounded-full px-4 py-1",children:[e.jsx(se,{}),e.jsx("p",{className:"font-medium text-sm text-black",children:"See All"})]})]},s))})]}),j&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-xl",children:[e.jsxs("div",{className:"absolute w-full top-4 right-4 flex items-center justify-between",children:[e.jsx("p",{}),e.jsxs("p",{className:"text-white font-dmSans font-semibold",children:[E+1," / ",m.length]}),e.jsx("button",{onClick:O,className:"text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(te,{size:20})})]}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("button",{onClick:L,className:"absolute left-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(re,{size:24})}),e.jsx("img",{src:`https://backoffice.innerpece.com/${m[E]}`,alt:"modal-img",className:`w-[80vw] h-[80vh] object-cover rounded-xl transition-opacity duration-200 ease-out ${z?"opacity-0":"opacity-100"}`}),e.jsx("button",{onClick:V,className:"absolute right-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(le,{size:24})})]})]})]})})}export{me as default};
