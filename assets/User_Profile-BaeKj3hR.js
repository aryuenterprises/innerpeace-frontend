const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BUZE2qOm.js","assets/index-DtWBvXNi.css","assets/MyProfile_Sidebar-DjVaYQxO.js","assets/index-Dr1GP-G3.js"])))=>i.map(i=>d[i]);
import{r as s,_ as r,u as G,j as e,G as J,L as $,M as K,a as q,Z as Q}from"./index-BUZE2qOm.js";let W=s.lazy(()=>r(()=>import("./index-BUZE2qOm.js").then(o=>o.b9),__vite__mapDeps([0,1]))),X=s.lazy(()=>r(()=>import("./MyProfile_Sidebar-DjVaYQxO.js"),__vite__mapDeps([2,0,1,3]))),Y=s.lazy(()=>r(()=>import("./index-BUZE2qOm.js").then(o=>o.ba),__vite__mapDeps([0,1])));const se=()=>{const o=G(),[n,i]=s.useState(""),[I,L]=s.useState(""),[c,d]=s.useState(""),[m,u]=s.useState(""),[p,x]=s.useState(""),[g,b]=s.useState(""),[f,h]=s.useState(""),[y,v]=s.useState(""),[N,_]=s.useState(""),[j,S]=s.useState(""),[C,w]=s.useState(""),[P,U]=s.useState(""),[D,E]=s.useState(!1);s.useEffect(()=>{document.title="Profile - Innerpece"},[]),s.useEffect(()=>{const a=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(a){i(!0);const{first_name:t,last_name:l,email:T,phone:A,dob:F,street:R,city:Z,state:H,zip_province_code:M,country:V,id:B}=a;d(t),u(l),x(T),b(A),h(F),v(R),_(Z),S(H),w(M),U(V),L(B)}else i(!1)},[]);const k=a=>{E(!0);const{value:t,name:l}=a.target;l==="FirstName"&&d(t),l==="LastName"&&u(t),l==="Email"&&x(t),l==="PhoneNo"&&b(t.slice(0,10)),l==="Dob"&&h(t),l==="Street"&&v(t),l==="City"&&_(t),l==="State"&&S(t),l==="ZipCode"&&w(t),l==="Country"&&U(t)},O=()=>{o("/login"),window.scrollTo({top:0,behavior:"instant"})},z=async()=>{try{const a={first_name:c,last_name:m,email:p,dob:f,phone:g,street:y,city:N,state:j,zip_province_code:C,country:P},t=await q.post(`https://backoffice.innerpece.com/api/v1/update-profile/${I}`,a);Q.fire({position:"center",icon:"success",title:"Profile updated successfully",showConfirmButton:!1,timer:1500}),localStorage.setItem("loginDetails",JSON.stringify(t.data.user)),E(!1)}catch(a){console.log(a)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[e.jsx(J,{}),e.jsxs(s.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(W,{}),e.jsxs("div",{className:"flex gap-1 sm:gap-2  px-2 py-0.5  items-center",children:[e.jsx($,{to:"/",children:e.jsx("p",{className:"text-xs sm:text-sm",children:"Home"})}),e.jsx(K,{className:"text-xl"}),e.jsx("p",{className:"text-blue-500 font-medium sm:font-semibold",children:"Profile"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(X,{})}),n&&e.jsx("div",{className:"basis-full",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white/90 backdrop-blur rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.08)] border border-gray-100",children:[e.jsxs("div",{className:"px-8 py-6 border-b",children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your personal details and preferences"})]}),e.jsx("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[{label:"First Name",name:"FirstName",value:c},{label:"Last Name",name:"LastName",value:m},{label:"Email",name:"Email",value:p,readOnly:!0},{label:"Phone Number",name:"PhoneNo",value:g},{label:"Date of Birth",name:"Dob",value:f,type:"date"},{label:"Street Address",name:"Street",value:y},{label:"City",name:"City",value:N},{label:"State",name:"State",value:j},{label:"ZIP Code",name:"ZipCode",value:C},{label:"Country",name:"Country",value:P}].map((a,t)=>e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1 block",children:a.label}),e.jsx("input",{type:a.type||"text",name:a.name,value:a.value,readOnly:a.readOnly,onChange:l=>k(l),className:`w-full px-5 py-4 rounded-2xl border text-gray-900
                bg-gray-50/60
                focus:bg-white focus:outline-none focus:ring-4 focus:ring-blue-100
                transition-all
                ${a.readOnly&&"cursor-not-allowed opacity-70"}
              `})]},t))}),D&&e.jsx("div",{className:"px-8 pb-8 flex justify-end",children:e.jsx("button",{onClick:z,className:`px-10 py-4 rounded-2xl bg-blue-600 text-white font-medium\r
              shadow-lg shadow-blue-600/20\r
              hover:bg-blue-700 hover:shadow-blue-700/30\r
              active:scale-95 transition-all`,children:"Save Changes"})})]})}),n===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:O,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your profile"]})})]}),e.jsx(Y,{})]})]})};export{se as default};
