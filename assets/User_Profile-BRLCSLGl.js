const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DiBzbLxw.js","assets/index-jsvUWunc.css","assets/MyProfile_Sidebar-BMH840G1.js","assets/index-DhkNKJqU.js"])))=>i.map(i=>d[i]);
import{r as t,_ as i,u as G,j as e,G as J,L as K,M as $,a as q,Z as Q}from"./index-DiBzbLxw.js";let W=t.lazy(()=>i(()=>import("./index-DiBzbLxw.js").then(n=>n.b9),__vite__mapDeps([0,1]))),X=t.lazy(()=>i(()=>import("./MyProfile_Sidebar-BMH840G1.js"),__vite__mapDeps([2,0,1,3]))),Y=t.lazy(()=>i(()=>import("./index-DiBzbLxw.js").then(n=>n.ba),__vite__mapDeps([0,1])));const se=()=>{const n=G(),[r,c]=t.useState(""),[L,I]=t.useState(""),[d,u]=t.useState(""),[m,g]=t.useState(""),[f,x]=t.useState(""),[p,h]=t.useState(""),[b,N]=t.useState(""),[y,j]=t.useState(""),[v,_]=t.useState(""),[C,w]=t.useState(""),[S,P]=t.useState(""),[F,U]=t.useState(""),[D,E]=t.useState(!1);t.useEffect(()=>{document.title="Profile - Innerpece"},[]),t.useEffect(()=>{const s=localStorage.getItem("loginDetails")?JSON.parse(localStorage.getItem("loginDetails")):null;if(s){c(!0);const{first_name:l,last_name:a,email:O,phone:T,dob:R,street:Z,city:A,state:H,zip_province_code:M,country:V,id:B}=s;u(l),g(a),x(O),h(T),N(R),j(Z),_(A),w(H),P(M),U(V),I(B)}else c(!1)},[]);const o=s=>{E(!0);const{value:l,name:a}=s.target;a==="FirstName"&&u(l),a==="LastName"&&g(l),a==="Email"&&x(l),a==="PhoneNo"&&h(l.slice(0,10)),a==="Dob"&&N(l),a==="Street"&&j(l),a==="City"&&_(l),a==="State"&&w(l),a==="ZipCode"&&P(l),a==="Country"&&U(l)},z=()=>{n("/login"),window.scrollTo({top:0,behavior:"instant"})},k=async()=>{try{const s={first_name:d,last_name:m,email:f,dob:b,phone:p,street:y,city:v,state:C,zip_province_code:S,country:F},l=await q.post(`https://backoffice.innerpece.com/api/v1/update-profile/${L}`,s);Q.fire({position:"center",icon:"success",title:"Profile updated successfully",showConfirmButton:!1,timer:1500}),localStorage.setItem("loginDetails",JSON.stringify(l.data.user)),E(!1)}catch(s){console.log(s)}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[e.jsx(J,{}),e.jsxs(t.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-md bg-transparent",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),children:[e.jsx(W,{}),e.jsxs("div",{className:"flex gap-1 sm:gap-2  px-2 py-0.5  items-center",children:[e.jsx(K,{to:"/",children:e.jsx("p",{className:"text-xs sm:text-sm",children:"Home"})}),e.jsx($,{className:"text-xl"}),e.jsx("p",{className:"text-blue-500 font-medium sm:font-semibold",children:"Profile"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row pt-10 pb-4 px-5 md:px-10 gap-5",children:[e.jsx("div",{className:"basis-1/12",children:e.jsx(X,{})}),r&&e.jsxs("div",{className:"flex flex-col p-6 bg-white rounded-lg shadow-md basis-full ",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"My Profile"}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 mt-8 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"firstName",className:"text-gray-600 font-medium w-1/3",children:"First Name"}),e.jsx("input",{autoComplete:"on",id:"firstName",name:"FirstName",value:d,type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"lastName",className:"text-gray-600 font-medium w-1/3",children:"Last Name"}),e.jsx("input",{autoComplete:"on",id:"lastName",name:"LastName",type:"text",value:m,className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"email",className:"text-gray-600 font-medium w-1/3",children:"Email"}),e.jsx("input",{readOnly:!0,autoComplete:"on",id:"email",name:"Email",type:"email",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:f})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"phone",className:"text-gray-600 font-medium w-1/3",children:"Phone No"}),e.jsx("input",{autoComplete:"on",id:"phone",name:"PhoneNo",type:"number",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:p,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"dob",className:"text-gray-600 font-medium w-1/3",children:"DOB"}),e.jsx("input",{id:"dob",name:"Dob",type:"date",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:b,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"street",className:"text-gray-600 font-medium w-1/3",children:"Street"}),e.jsx("input",{id:"street",name:"Street",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:y,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"city",className:"text-gray-600 font-medium w-1/3",children:"City"}),e.jsx("input",{id:"city",name:"City",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:v,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"state",className:"text-gray-600 font-medium w-1/3",children:"State"}),e.jsx("input",{id:"state",name:"State",type:"text",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:C,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"zipCode",className:"text-gray-600 font-medium w-1/3",children:"Zip/Postal Code"}),e.jsx("input",{id:"zipCode",name:"ZipCode",type:"number",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:S,onChange:s=>o(s)})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"country",className:"text-gray-600 font-medium w-1/3",children:"Country"}),e.jsx("input",{id:"country",name:"Country",type:"text",autoComplete:"on",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none w-full",value:F,onChange:s=>o(s)})]})]}),D&&e.jsx("button",{onClick:k,className:"mt-6 bg-blue-600 w-fit text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Save Changes"})]}),r===!1&&e.jsx("div",{className:"flex justify-center w-full mt-10 h-screen",children:e.jsxs("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-6",children:["Please"," ",e.jsx("span",{onClick:z,className:"text-blue-600 cursor-pointer hover:underline",children:"Login"})," ","to view your profile"]})})]}),e.jsx(Y,{})]})]})};export{se as default};
