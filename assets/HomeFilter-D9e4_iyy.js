import{r as l,b as I,u as B,j as e,H as R,d as H,F as q,f as z,g as M,h as U,a as m}from"./index-Ci1qLTBt.js";import{P}from"./index-By1VCIRF.js";function J(){l.useEffect(()=>{document.title="Filter Details - Innerpece"},[]);const E=I(),{date:x,city_name:i}=E.state||{},[r,o]=l.useState([]),[f,L]=l.useState(""),[p,b]=l.useState(""),[h,j]=l.useState("");l.useState("");const[y,T]=l.useState(1),[g]=l.useState(8),v=y*g,$=v-g,N=Array.isArray(r)?r.slice($,v):[],O=t=>T(t);l.useEffect(()=>{(async()=>{try{const s=await m.post("https://backoffice.innerpece.com/api/v1/home-filter",{destination:i,start_date:x});o(s.data.data);const a=s.data.data[0],n=document.querySelector("meta[property='og:title']");n&&n.setAttribute("content",a.title||"Default Title");const d=document.querySelector("meta[property='og:description']");d&&d.setAttribute("content",a.category||"Default description");const _=document.querySelector("meta[property='og:image']");_&&_.setAttribute("content",`https://backoffice.innerpece.com/${a.cover_img}`||"")}catch(s){console.log(s)}})()},[i,x]);const[c,u]=l.useState(!1);let w=B();const A=(t,s)=>{const a=s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");w(`/${t}/${a}`,{state:{id:t,title:s}}),window.scrollTo({top:0,behavior:"instant"})},k=async t=>{const s=t.target.value;L(s);try{const a=await m.post("https://backoffice.innerpece.com/api/v1/destination-program-by-price_sort",{sort_order:s,city:i});if(a.data.status==="success"){const n=a.data.data,d=Object.values(n);o(d)}else console.error("Error sorting programs:",a.data.message)}catch(a){console.error("Error:",a)}},F=async()=>{try{const t=await m.post("https://backoffice.innerpece.com/api/filter-destination",{start_date:p,to_date:h,destination:i});if(t.data.status==="success"){const s=Object.values(t.data.data);s.length===0?o([]):o(s)}}catch(t){console.error("Error:",t),o([])}},C=t=>{b(t.target.value)},D=t=>{j(t.target.value)},S=async()=>{u(!1),(async()=>{try{const s=await m.post("https://backoffice.innerpece.com/api/v1/home-filter",{destination:i,start_date:x});b(""),j(""),o(s.data.data)}catch(s){console.log(s)}})()};return l.useEffect(()=>(c?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[c]),e.jsxs("div",{children:[e.jsx(R,{}),e.jsxs("div",{className:"mt-4 md:mt-7 ms-3 me-3 md:ms-10 md:me-10 ",children:[e.jsxs("div",{className:"gap-3 mt-4 items-center justify-between inline-flex bg-sky-100/80 font-semibold text-sky-800 p-2 rounded-lg",children:[e.jsx("p",{onClick:()=>w("/"),className:"cursor-pointer",children:"Home"}),e.jsx("b",{children:">"}),e.jsx("p",{className:"",children:`Explore ${r.length>0?r[0].title:""}`})]}),e.jsx("div",{id:"hero",className:"h-64 md:h-80  lg:h-[380px] rounded-lg mt-8 md:mt-10 lg:mt-16 relative bg-[url('././assets/explorepopularpackagehero.jpg')] bg-cover bg-center",children:e.jsxs("div",{id:"blur",className:"absolute h-[60%] w-[85%] md:w-[65%] lg:w-[60%] rounded-lg flex flex-col justify-center top-11 md:top-10 lg:top-16 left-6 md:left-10 lg:left-16 px-3 py-1 md:px-8 md:py-3 bg-[url('././assets/blurbg.png')] bg-cover bg-center",children:[e.jsx("h1",{className:"text-white text-lg md:text-2xl lg:text-4xl font-semibold",children:`Explore ${r.length>0?r[0].title:""}`}),e.jsx("p",{className:"text-white text-sm md:text-base mt-2 ",children:"Find your perfect tour with personalized themes and destinations to match your preferences"})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-2 md:gap-3 lg:gap-5 mt-2 md:mt-7 ms-4 me-4 md:ms-7 md:me-7 lg:ms-10 lg:me-10 ",children:[e.jsxs("div",{className:"mt-20 px-5 py-10 h-fit flex flex-col gap-6 rounded-md  max-md:hidden border-2 basis-[10%] ",children:[e.jsx("p",{className:"text-xl",children:"Search By Filter"}),e.jsx("label",{htmlFor:"fromDate",children:"From Date"}),e.jsx("input",{type:"date",value:p,onChange:C,className:"border-2 p-2 rounded"}),e.jsx("label",{htmlFor:"toDate",children:"To Date"}),e.jsx("input",{type:"date",value:h,onChange:D,className:"border-2 p-2 rounded"}),e.jsx("button",{value:"FILTER",onClick:F,className:"bg-sky-800 active:bg-gray-600 px-8 rounded text-center py-2 text-white place-items-end w-full",children:"Filter"}),e.jsx("button",{className:"bg-red-600 hover:bg-red-800 active:bg-gray-600 px-8 rounded text-center py-2 text-white place-items-end w-full",value:"FILTER",onClick:S,children:"Clear Filter"}),e.jsx("p",{className:"text-xl",children:"Sort By"}),e.jsxs("select",{name:"",id:"",className:"border-2 p-2 outline-none",onChange:k,value:f,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Sort Option"}),e.jsx("option",{value:"low",children:"Low Price"}),e.jsx("option",{value:"high",children:"High Price"})]})]}),e.jsxs("div",{className:"  w-full ",children:[e.jsx("p",{onClick:()=>u(!c),className:`mt-10 w-28 text-center py-2 px-2 md:p-2 md:px-6 rounded-lg block md:hidden ${c?"bg-red-500 text-white":"bg-gray-300"} }`,children:`${c?"Close Filter":"Filter"}`}),e.jsx("div",{className:`fixed bottom-0 left-0 right-0 px-2 bg-white border-t-2 rounded-t-lg transform transition-transform duration-500 ease-in-out ${c?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:e.jsxs("div",{className:"flex flex-col md:hidden  py-2 gap-3 max-w-sm w-full mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-lg",children:"Search By Filter"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-600 text-xl font-bold transition-transform duration-300 transform hover:scale-110",children:"×"})]}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{htmlFor:"fromDate",className:"w-20",children:"From Date"}),e.jsx("input",{type:"date",value:p,onChange:C,className:"border-2 p-2 rounded"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{htmlFor:"toDate",className:"w-20",children:"To Date"}),e.jsx("input",{type:"date",value:h,onChange:D,className:"border-2 p-2 rounded"})]}),e.jsx("button",{value:"FILTER",onClick:F,className:"bg-sky-600 hover:bg-sky-800 active:bg-gray-600 px-8 rounded text-center py-2 text-white place-items-end w-full",children:"Filter"}),e.jsx("button",{className:"bg-red-600 hover:bg-red-800 active:bg-gray-600 px-8 rounded-lg text-center py-2 text-white w-full",value:"FILTER",onClick:S,children:"Clear Filter"})]}),e.jsx("p",{className:"text-lg",children:"Sort By"}),e.jsxs("select",{name:"",id:"",className:"border-2 p-2 outline-none",onChange:k,value:f,children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Sort Option"}),e.jsx("option",{value:"low",children:"Low Price"}),e.jsx("option",{value:"high",children:"High Price"})]})]})}),N.length>0?N.map((t,s)=>e.jsx("div",{className:"flex flex-col mt-10  ",children:e.jsxs("div",{className:"flex w-full flex-grow flex-col lg:flex-row mt-11    ",children:[e.jsx("img",{src:t.cover_img?`https://backoffice.innerpece.com/${t.cover_img}`:H,alt:"",className:"object-cover w-full lg:w-1/4  bg-center  rounded-none"}),e.jsxs("div",{className:"flex flex-wrap flex-grow  lg:w-3/4 flex-col gap-2 border-2 border-gray-300 py-2 px-3 ",children:[e.jsx("p",{className:"font-semibold flex-wrap text-2xl md:text-3xl",children:t.title}),e.jsxs("div",{className:"flex  items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"text-sky-800"}),e.jsx("p",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"text-yellow-500"}),e.jsxs("p",{children:[e.jsx("b",{className:"me-1",children:t.totalReviews}),"of 5"]})]})]}),e.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxs("p",{children:["Upto ",t.member_capacity," guests"]}),t.bed_room&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"text-gray-400"}),e.jsxs("p",{children:[t.bed_room," ",t.bed_room>"1"?"bed rooms":"bed room"]})]}),t.bath_room&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"text-gray-400"}),e.jsxs("p",{children:[t.bath_room," ",t.bath_room>"1"?"bath rooms":"bath room"]})]})]}),t.amenity_details&&t.amenity_details.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"border-b border-gray-400"}),e.jsxs("div",{className:"flex justify-start mt-5 gap-3 flex-wrap items-start",children:[t.amenity_details.slice(0,3).map((a,n)=>e.jsxs("div",{className:"flex flex-col w-20 flex-wrap",children:[e.jsx("span",{className:"border-2 p-2 w-9 border-gray-300 rounded-full",children:e.jsx("img",{src:`https://backoffice.innerpece.com/${a.amenity_pic}`,alt:""})}),e.jsx("p",{className:"text-gray-500 flex-wrap text-xs",children:a.amenity_name})]},n)),t.amenity_details.length>3&&e.jsxs("p",{className:"text-gray-500",children:[t.amenity_details.length-3,"+"]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap  flex-row  lg:w-1/5 lg:flex-col items-center justify-between lg:justify-center gap-4  lg:border-s-0 border-t-0 lg:border-t-2 border-2 border-gray-300  px-3 py-2  lg:rounded-lg lg:rounded-s-none rounded-b-none",children:[e.jsxs("p",{className:"text-gray-600",children:["Starting From ",e.jsx("del",{children:t.price})]}),e.jsxs("p",{className:"font-bold text-xl md:text-2xl",children:["₹",t.actual_price]}),e.jsxs("div",{onClick:()=>A(t.id,t.title),className:"flex  items-center gap-2 bg-gradient-to-r from-sky-700 to-sky-900 px-5 py-1 lg:px-8 lg:py-2 rounded-lg ",children:[e.jsx("p",{className:"text-white cursor-pointer  md:text-xl font-semibold ",children:"View"}),e.jsx(M,{className:"text-white"})]})]})]},s)},s)):e.jsx("div",{className:"flex items-start mt-20 text-2xl justify-center w-full h-full ",children:e.jsx("p",{children:"No programs available."})}),e.jsx("nav",{children:e.jsx("div",{className:"flex justify-center items-center mt-5",children:e.jsx("ul",{className:"flex space-x-2",children:Array.from({length:Math.ceil(r.length/g)},(t,s)=>e.jsx("li",{className:"relative",children:e.jsx("button",{onClick:()=>O(s+1),className:`px-4 py-2 border-2 rounded-full text-black ${y===s+1?"bg-blue-700 border-blue-700 text-white":"hover:bg-blue-600 hover:border-blue-600"}`,children:s+1})},s+1))})})})]})]}),e.jsx(U,{})]})}export{J as default};
