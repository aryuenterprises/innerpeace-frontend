import{b as q,u as P,r,j as e,O as R,P as T,Q as L,T as M,U as W,W as Y,V as Z,X as J,Y as $,Z as G,$ as K,a0 as X,a1 as ee,a as d}from"./index-DT4VApSY.js";const te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGqSURBVHgB7VO7TgJREJ3ZayIWytpZQmehEeMPaKOxkpo1ET9AgT+AypIAFnZAIbHUylCBnZ0Q7YHOzhVjsoD3jnNREhZ5RRMrTjK5O489M5kHwAzfwHHOpcNMBElFOczHap0Ic83CSQKmgBjlMEPpMD8XiJBCVAkkqgJifH5tv9V6ur2H38JrZR6WrHSy38Z61GulX8xw0pz0vzHaRQESVHYFk9S66TjwJ+IySgz2W5QxdwBEdecqVocJmBvl0H0FEiVvKG0SUBUN3GDSoEIIwxQYOjzuYYCkcdbdBqQVHuAqm1nQw2tkLmzt3TmVot2L595nF9Z3G85j8bln+9GKRev8iD5E6atqufN6GVlm8esXSW4SQAPa7qo52bYEERiwuSr1UUfUeLUSdiEShzHQm9Eb4rwQJU6Yakt57fGAbeditqti6hhZDshNItVQbSPKhDUtrPq4wqT+Zo7akFbgtiFlHqZAk5OjlH4toK8SINbV35W/y9Qf7LVSJT0wDioPZSOs8EmnBs18NDVFkHgrnOZ6NlfFKNUxEd3ACBhIODwf5YXqHs8M/4hPFNyv0KgGIVUAAAAASUVORK5CYII=";function oe(){const F=q(),H=P(),{id:n,title:ae}=F.state||{},[a,x]=r.useState([]),[m,_]=r.useState(""),[u,f]=r.useState(!1),b=window.location.href,j=(a==null?void 0:a.program_desc)||"",[y,S]=r.useState(""),B=async()=>{const t=JSON.parse(localStorage.getItem("loginDetails")),s=localStorage.getItem("loginid");if(!t||!t.id){console.error("User is not logged in"),H("/login"),window.scrollTo({top:0,behavior:"instant"});return}const{id:i}=t,v={Authorization:`Bearer ${s}`},l=new FormData;l.append("user_id",i),l.append("program_id",n),l.append("action",u?"remove":"add");try{const o=await d.post("https://backoffice.innerpece.com/api/add-remove-wishlist",l,{headers:v});f(!u),(async()=>{try{const g=localStorage.getItem("loginDetails"),N=g?JSON.parse(g):null,z={program_id:n||k,user_id:(N==null?void 0:N.id)||null},Q={program_id:p},c=p?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",Q):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",z);console.log(c),x(c.data.data),S(c.data.data.name),x(c.data.data),f(c.data.data.wishlists)}catch(g){console.log(g)}})()}catch(o){console.error("An error occurred while updating wishlist:",o)}},k=window.location.pathname.split("/")[1],p=window.location.href.split("#")[1];r.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("loginDetails"),i=s?JSON.parse(s):null,v={program_id:n||k,user_id:(i==null?void 0:i.id)||null},l={program_id:p},o=p?await d.post("https://backoffice.innerpece.com/api/v1/specific-program-details",l):await d.post("https://backoffice.innerpece.com/api/v1/get-program-details",v);S(o.data.data.name),x(o.data.data),f(o.data.data.wishlists),_([...o.data.data.gallery_img||[],...o.data.data.stay_images||[]])}catch(s){console.log(s)}})()},[]);const[w,I]=r.useState(!1),[E,A]=r.useState(0),U=(t=0)=>{A(t),I(!0)},C=()=>{I(!1)},[D,h]=r.useState(!1),O=()=>{h(!0),setTimeout(()=>{A(t=>t===m.length-1?0:t+1),h(!1)},200)},V=()=>{h(!0),setTimeout(()=>{A(t=>t===0?m.length-1:t-1),h(!1)},200)};return r.useEffect(()=>(w?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[w]),e.jsxs("div",{className:"mt-20 md:mt-28  mx-3 md:mx-10   xl:mx-20 ",children:[e.jsxs("div",{className:"flex flex-wrap flex-col items-start justify-between gap-2",children:[y&&e.jsx("p",{className:"font-medium text-lg font-jakarta bg-gradient-to-r from-[#0E598F] to-[#041A29] text-transparent bg-clip-text ",children:`Welcome, ${y}`}),e.jsx("p",{className:"font-semibold text-2xl md:text-4xl",children:a.title}),e.jsxs("div",{className:"flex flex-wrap gap-5",children:[a.member_capacity&&e.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("img",{src:te,alt:"",className:"object-contain"}),e.jsxs("p",{className:"text-gray-600",children:[a.member_capacity," ",a.member_capacity==="1"?"member":"members"]})]}),a.current_location&&e.jsxs("div",{className:"flex items-center  gap-1",children:[e.jsx("img",{src:R,alt:"",className:"object-contain"}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:a.current_location}})]}),e.jsx("div",{className:"flex flex-row  flex-wrap md:flex-col gap-5 ",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-5",children:[e.jsx(T,{url:b,quote:j,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0965FE]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(L,{size:22,round:!0}),e.jsx("p",{children:"Share"})]})}),e.jsx(M,{url:b,quote:j,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#0077B5]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(W,{size:22,round:!0}),e.jsx("p",{children:"Share"})]})}),e.jsx(Y,{url:b,quote:j,hashtag:"#innerpece",children:e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-[#25D366]  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200 rounded-full p-2 gap-2 px-3",children:[e.jsx(Z,{size:22,round:!0}),e.jsx("p",{children:"Share"})]})}),e.jsxs("div",{className:"flex items-center cursor-pointer border-2 hover:bg-red-500  hover:border-white border-gray-700 text-gray-700 hover:text-white transition-all ease-in duration-200  rounded-full p-2 gap-2 px-3",onClick:()=>B(),children:[u?e.jsx(J,{className:"text-red-300"}):e.jsx($,{}),e.jsx("p",{children:"WishList"})]})]})})]})]}),a&&a.gallery_img&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-5 mt-5 h-[60vh] max-md:hidden",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${a.gallery_img[0]}`,alt:"",className:"rounded-xl w-[60%] h-full object-cover"}),e.jsx("div",{className:"w-[40%] grid grid-cols-2 grid-rows-2 gap-5",children:a.gallery_img.slice(1,5).map((t,s)=>e.jsxs("div",{onClick:()=>U(s+1),className:"w-full h-full relative cursor-pointer ",children:[e.jsx("img",{src:`https://backoffice.innerpece.com/${t}`,alt:"",className:"rounded-xl w-full   h-full object-cover absolute"}),s===3&&e.jsxs("div",{onClick:i=>{i.stopPropagation(),U(0)},className:"flex items-center gap-3 absolute bottom-2 right-2  bg-white rounded-full px-4 py-1",children:[e.jsx(G,{}),e.jsx("p",{className:"font-medium text-sm text-black text",children:"See All"})]})]},s))})]}),e.jsx(e.Fragment,{})]}),w&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-xl",children:[e.jsxs("div",{className:"absolute w-full top-4 right-4 flex items-center justify-between",children:[e.jsx("p",{}),e.jsxs("p",{className:"text-white font-dmSans font-semibold",children:[E+1," / ",m.length]}),e.jsx("button",{onClick:C,className:"  text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(K,{size:20})})]}),e.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[e.jsx("button",{onClick:V,className:"absolute left-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(X,{size:24})}),e.jsx("img",{src:`https://backoffice.innerpece.com/${m[E]}`,alt:"modal-img",className:`w-[80vw] h-[80vh] object-cover rounded-xl  transition-opacity duration-200 ease-out ${D?"opacity-0":"opacity-100"}`}),e.jsx("button",{onClick:O,className:"absolute right-5 text-white bg-black/50 p-2 rounded-full hover:bg-black",children:e.jsx(ee,{size:24})})]})]})]})}export{oe as default};
