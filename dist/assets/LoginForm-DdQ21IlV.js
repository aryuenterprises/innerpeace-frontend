import{r as o,b as k,u as C,j as e,R as S,a as E,S as I}from"./index-DT4VApSY.js";o.createContext(null);class L extends Error{}L.prototype.name="InvalidTokenError";function B(){var h;const[l,i]=o.useState(""),[c,d]=o.useState(""),[f,w]=o.useState(""),[t,m]=o.useState({}),[x,n]=o.useState(!1),j=((h=k().state)==null?void 0:h.from)||"/";let p=C();function b(){p("/signup"),window.scrollTo({top:0,behavior:"instant"})}function u(s){const{name:a,value:r}=s.target;a==="email"&&i(r),a==="password"&&d(r),a==="checkbox"&&w(f?"":"checkbox checked")}async function v(){n(!0);try{let s=await E.post("https://backoffice.innerpece.com/api/v1/login",{email:l,password:c});const a=s.data.token,r=s.data.user_details;localStorage.setItem("loginid",a),localStorage.setItem("loginDetails",JSON.stringify(r)),i(""),d(""),m(""),I.fire({position:"center",icon:"success",title:"Login successfully",showConfirmButton:!1,timer:1500}),setTimeout(()=>{p(j),window.scrollTo({top:0,behavior:"smooth"})},2e3),n(!1)}catch(s){console.log(s),n(!1);let a=s.response.data.errors?s.response.data.errors:s.response.data;m({...a}),console.log(a)}}const[g,y]=o.useState(null),N=s=>{y(s)};return o.useState(null),e.jsxs("div",{className:"flex items-center justify-center mt-8 md:mt-14",children:[e.jsx("div",{className:"w-full sm:w-[80vw] md:w-[70vw] lg:w-[60vw]  shadow-2xl  shadow-black/30 rounded-md",children:e.jsxs("div",{className:"flex justify-start gap-2 md:gap-5 lg:gap-8 h-full w-full px-2 md:px-4 py-4",children:[e.jsx("div",{className:' bg-[url("././assets/login_image.png")] max-sm:hidden  w-1/5  md:w-1/3 flex-shrink bg-cover  bg-center bg-no-repeat'}),e.jsx("div",{className:"w-2/5 flex-grow flex-shrink",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl font-semibold",children:"Log In To Get Started"}),e.jsx("div",{className:"flex flex-col flex-wrap lg:flex-row justify-between gap-5 mt-5",children:e.jsxs("div",{className:"flex flex-col flex-grow gap-2",children:[e.jsx("label",{htmlFor:"email",className:"font-semibold",children:"Email"}),e.jsx("input",{type:"text",name:"email",id:"email",value:l,autoComplete:"off",onChange:u,className:"border-2 border-gray-300 outline-none p-2 rounded-md",placeholder:"Enter your Email"}),t.email&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:t.email}),t.error==="Unauthorized User "&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:t.error})]})}),e.jsxs("div",{className:"flex flex-col mt-5 gap-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"password",className:"font-semibold",children:"Your Password"})}),e.jsx("input",{onFocus:s=>s.target.type="text",onBlur:s=>s.target.type="password",type:"password",id:"password",name:"password",value:c,onChange:u,autoComplete:"off",placeholder:"Enter your Password",className:"border-2  border-gray-300 outline-none p-2 rounded-md"}),t.password&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:t.password}),t.error==="Incorrect password"&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm ",children:t.error})]}),e.jsx("div",{className:"recaptacha-login  mt-5",children:e.jsx(S,{sitekey:"6LfDSrsqAAAAAI2jP2tOdr2l4VkiztyX2S2H0Fxg",onChange:N})}),e.jsx("button",{disabled:!g||x,onClick:v,className:`${g?"bg-sky-800":"bg-gray-400"} transition-all duration-300 w-full p-3 mt-2 rounded-md text-white`,children:x?e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("span",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}):"Log In"}),e.jsx("button",{oncli:!0,className:"bg-gray-400 rounded-lg  px-5 py-3",children:"Continue with google"}),e.jsxs("div",{className:"flex items-center flex-wrap mt-5 mb-5 gap-2 ",children:[e.jsx("p",{children:"Don't you have an account?"}),e.jsx("button",{onClick:b,className:"bg-sky-800 px-3 py-1 cursor-pointer  text-white rounded",children:"Register"})]})]})})]})}),"-"]})}export{B as default};
